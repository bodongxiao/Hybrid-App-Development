<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>animate函数封装</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		#box{
			width: 100px;
			height: 100px;
			background: red;
			position: absolute;
			left: 0;
			
		}
	</style>
	<script src="animate.js"></script>
</head>
<body>
	<div id="box"></div>
	<script>
		var box = document.getElementById('box');
		box.onclick = function(){
			animate(box,{left:600,top:400,opacity:20},function(){
				console.log("动画结束！");
			});
//			匀速运动
//			var timer = setInterval(function(){
//				var now = parseInt(getStyle(box,'left'));
//				console.log(now);
//				if(now == 500){
//					clearInterval(timer);
//				}else{
//					box.style.left = now + 5 + "px";
//				}
//				
//			},30);
//			变速运动
//			var timer = setInterval(function(){
//				var now = parseInt(getStyle(box,'left'));
//				var speed = (500-now)/8;
//				speed = speed>0?Math.ceil(speed):Math.floor(speed);
//				if(now == 500){
//					clearInterval(timer);
//				}else{
//					box.style.left = now + speed + "px";
//				}
//			},30);
//		}

//		获取样式
//		function getStyle(obj,attr){
//			if(obj.currentStyle){
//				return obj.currentStyle[attr];
//			}else{
//				return getComputedStyle(obj,null)[attr];
//			}
		}
	</script>
</body>
</html>